<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="userMapper">

	<resultMap id="userMap" type="user">
		<result property="id"			column="id" 			jdbcType="NUMERIC" />
		<result property="email"		column="email" 			jdbcType="VARCHAR" />
		<result property="password"		column="password" 		jdbcType="VARCHAR" />
		<result property="name"			column="name"			jdbcType="VARCHAR" />
		<result property="nickname" 	column="nickname"		jdbcType="VARCHAR" />
		<result property="phoneHead" 	column="phone_head"		jdbcType="NUMERIC" />
		<result property="phoneBody"	column="phone_body"		jdbcType="NUMERIC" />
		<result property="phoneTail"	column="phone_tail" 	jdbcType="NUMERIC" />
		<result property="registerTime"	column="register_time"	jdbcType="DATE" />
		<result property="profileImg"	column="profile_img"	jdbcType="VARCHAR" />
		<result property="userRole"		column="user_role"		jdbcType="CHAR" />
		
	</resultMap>

	<insert id="addUser" parameterType="user">
		<selectKey resultType="int" keyProperty="id" order="BEFORE">
		select nextval('users_id_seq')
		</selectKey>
		INSERT INTO
		users
		(id,email,password,name,nickname,
		phone_head,phone_body,phone_tail,
		register_time,profile_img,user_role)
		VALUES
		(#{id},#{email},#{password},#{name},#{nickname},
		#{phoneHead},#{phoneBody},#{phoneTail},
		NOW(),#{profileImg},#{userRole})
	</insert>
	
</mapper>